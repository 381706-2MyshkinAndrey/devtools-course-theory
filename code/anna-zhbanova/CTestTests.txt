#############################################
##### Testing
#############################################

enable_testing()

add_test( 
    NAME can_Run
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname}
)

add_test( 
    NAME can_Print_Help_Without_Arguments
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname}
)
set_tests_properties (can_Print_Help_Without_Arguments 
  PROPERTIES PASS_REGULAR_EXPRESSION "This is an application")

add_test(
    NAME can_Check_Number_Of_Arguments
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 1 2
)
set_tests_properties (can_Check_Number_Of_Arguments 
  PROPERTIES PASS_REGULAR_EXPRESSION "ERROR: Should be 7 or 3 arguments.")

add_test(
    NAME can_Detect_Wrong_Number_Format
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 1 1,1 0
)
set_tests_properties (can_Detect_Wrong_Number_Format 
  PROPERTIES PASS_REGULAR_EXPRESSION "Wrong number format!")

add_test(
    NAME can_Detect_Wrong_Operation_Format
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 1 1 +trash
)
set_tests_properties (can_Detect_Wrong_Operation_Format 
  PROPERTIES PASS_REGULAR_EXPRESSION "Wrong operation format!")

add_test(
    NAME can_Detect_Wrong_Operation
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 1 1 4
)
set_tests_properties (can_Detect_Wrong_Operation
  PROPERTIES PASS_REGULAR_EXPRESSION "- Wrong operation!")

add_test(
    NAME can_Set_Positive_Numbers_A
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 2 3 0
)
set_tests_properties (can_Set_Positive_Numbers_A
  PROPERTIES PASS_REGULAR_EXPRESSION "Result A = \\(2\\.00, 3\\.00\\)")

add_test(
    NAME can_Set_Positive_Numbers_B
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 1 2 1
)
set_tests_properties (can_Set_Positive_Numbers_B
  PROPERTIES PASS_REGULAR_EXPRESSION "Result B = \\(1\\.00, 2\\.00\\)")

add_test(
    NAME can_Set_Positive_Numbers_C
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 4 2 2
)
set_tests_properties (can_Set_Positive_Numbers_C
  PROPERTIES PASS_REGULAR_EXPRESSION "Result C = \\(4\\.00, 2\\.00\\)")

add_test(
    NAME can_Get_Positive_Numbers_A
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 1 1 2 2 6 6 3
)
set_tests_properties (can_Get_Positive_Numbers_A
  PROPERTIES PASS_REGULAR_EXPRESSION "Result A = \\(1\\.00, 1\\.00\\)")

add_test(
    NAME can_Get_Positive_Numbers_B
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 1 1 2 2 6 6 4
)
set_tests_properties (can_Get_Positive_Numbers_B
  PROPERTIES PASS_REGULAR_EXPRESSION "Result B = \\(2\\.00, 2\\.00\\)")

add_test(
    NAME can_Get_Positive_Numbers_C
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 1 1 2 2 6 6 5
)
set_tests_properties (can_Get_Positive_Numbers_C
  PROPERTIES PASS_REGULAR_EXPRESSION "Result C = \\(6\\.00, 6\\.00\\)")

add_test(
    NAME can_Set_Negative_Numbers_A
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} -20 -30 0
)
set_tests_properties (can_Set_Negative_Numbers_A
  PROPERTIES PASS_REGULAR_EXPRESSION "Result A = \\(-20\\.00, -30\\.00\\)")

add_test(
    NAME can_Set_Negative_Numbers_B
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} -2.1 -30 1
)
set_tests_properties (can_Set_Negative_Numbers_B
  PROPERTIES PASS_REGULAR_EXPRESSION "Result B = \\(-2\\.10, -30\\.00\\)")

add_test(
    NAME can_Set_Negative_Numbers_C
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} -2.1 -3.2 2
)
set_tests_properties (can_Set_Negative_Numbers_C
  PROPERTIES PASS_REGULAR_EXPRESSION "Result C = \\(-2\\.10, -3\\.20\\)")


add_test(
    NAME can_Get_Negative_Numbers_A
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} -1 -1 -2.22 -3.22 -0.2 -0.3 3
)
set_tests_properties (can_Get_Negative_Numbers_A
  PROPERTIES PASS_REGULAR_EXPRESSION "Result A = \\(-1\\.00, -1\\.00\\)")

add_test(
    NAME can_Get_Negative_Numbers_B
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} -1 -1 -2.22 -3.22 -0.2 -0.3 4
)
set_tests_properties (can_Get_Negative_Numbers_B 
  PROPERTIES PASS_REGULAR_EXPRESSION "Result B = \\(-2\\.22, -3\\.22\\)")


add_test(
    NAME can_Get_Negative_Numbers_C
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} -1 -1 -2.22 -3.22 -0.2 -0.3 5
)
set_tests_properties (can_Get_Negative_Numbers_C
  PROPERTIES PASS_REGULAR_EXPRESSION "Result C = \\(-0\\.20, -0\\.30\\)")

add_test(
    NAME can_Detect_Wrong_Triangle
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 0 0 5 5 2.5 2.5 6 
)
set_tests_properties (can_Detect_Wrong_Triangle
  PROPERTIES PASS_REGULAR_EXPRESSION "Result = Isn't correct")


add_test(
    NAME can_Detect_Correct_Triangle
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 0 0 5 5 0 3 6 
)
set_tests_properties (can_Detect_Correct_Triangle
  PROPERTIES PASS_REGULAR_EXPRESSION "Result = Is correct")

add_test(
    NAME can_Detect_Equilateral_Triangle
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 0 0 3 5 5 3 7 
)
set_tests_properties (can_Detect_Equilateral_Triangle
  PROPERTIES PASS_REGULAR_EXPRESSION "Result = Is equilateral")

add_test(
    NAME can_Detect_Not_Equilateral_Triangle
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 0 0 3 7 5 3 7 
)
set_tests_properties (can_Detect_Not_Equilateral_Triangle
  PROPERTIES PASS_REGULAR_EXPRESSION "Result = Isn't equilateral")

add_test(
    NAME can_Detect_Isosceles_Triangle
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 0 0 5 0 2.5 4.33012719 8 
)
set_tests_properties (can_Detect_Isosceles_Triangle
  PROPERTIES PASS_REGULAR_EXPRESSION "Result = Is isosceles")

add_test(
    NAME can_Detect_Not_Isosceles_Triangle
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 0 0 3 7 5 3 8 
)
set_tests_properties (can_Detect_Not_Isosceles_Triangle
  PROPERTIES PASS_REGULAR_EXPRESSION "Result = Isn't isosceles")

add_test(
    NAME can_Calculate_Side_AB
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 0 0 3 7 5 3 9 
)
set_tests_properties (can_Calculate_Side_AB
  PROPERTIES PASS_REGULAR_EXPRESSION "Result AB = 7\\.62")

add_test(
    NAME can_Calculate_Side_BC
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 0 0 3 7 5 3 10 
)
set_tests_properties (can_Calculate_Side_BC
  PROPERTIES PASS_REGULAR_EXPRESSION "Result BC = 4\\.47")

add_test(
    NAME can_Calculate_Side_AC
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 0 0 3 7 5 3 11 
)
set_tests_properties (can_Calculate_Side_AC
  PROPERTIES PASS_REGULAR_EXPRESSION "Result AC = 5\\.83")

add_test(
    NAME can_Calculate_Angle_A
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 0 0 5 0 2.5 4.33012719 12 
)
set_tests_properties (can_Calculate_Angle_A
  PROPERTIES PASS_REGULAR_EXPRESSION "Result Angle A = 60\\.00")

add_test(
    NAME can_Calculate_Angle_B
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 5 0 0 0 0 2.5 13 
)
set_tests_properties (can_Calculate_Angle_B
  PROPERTIES PASS_REGULAR_EXPRESSION "Result Angle B = 90\\.00")


add_test(
    NAME can_Calculate_Angle_C
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 5 0 0 0 0 5 14 
)
set_tests_properties (can_Calculate_Angle_C
  PROPERTIES PASS_REGULAR_EXPRESSION "Result Angle C = 45\\.00")

add_test(
    NAME can_Calculate_Square
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 0 6 3 0 0 0 15 
)
set_tests_properties (can_Calculate_Square
  PROPERTIES PASS_REGULAR_EXPRESSION "Result square = 9\\.00")

add_test(
    NAME can_Calculate_Perimeter
    WORKING_DIRECTORY ${bin_dir}
    COMMAND ${appname} 0 3 0 0 4 0 16 
)
set_tests_properties (can_Calculate_Perimeter
  PROPERTIES PASS_REGULAR_EXPRESSION "Result perimeter = 12\\.00")

